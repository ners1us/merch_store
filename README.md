# merch_store

Приложение, работающее с магазином мерча.

## Инструменты

- Go
- Gin
- Gorm
- Docker
- PostgreSQL
- Testcontainers

## Описание

Приложение предоставляет пользователям возможность приобретать товары за виртуальные монеты. Каждый новый пользователь
получает 1000 монет, которые можно тратить на покупку товаров в магазине или передавать другим пользователям.

### Возможности приложения

- Аутентификация через JWT
- Покупка товаров за монеты
- Передача монет другим пользователям
- Просмотр списка приобретённых товаров
- Отслеживание истории транзакций:
    - Полученные монеты (от кого и в каком количестве)
    - Отправленные монеты (кому и в каком количестве)

### Доступные товары

| Название   | Цена |
|------------|------|
| t-shirt    | 80   |
| cup        | 20   |
| book       | 50   |
| pen        | 10   |
| powerbank  | 200  |
| hoody      | 300  |
| umbrella   | 200  |
| socks      | 10   |
| wallet     | 50   |
| pink-hoody | 500  |

### Ограничения

1. **Нельзя уходить в минус**

- Баланс монет не может быть отрицательным.
- Нельзя передавать или тратить больше монет, чем есть на счету.

2. **Передача монет**

- Монеты можно передавать только зарегистрированным пользователям.
- Нельзя передавать монеты самому себе.

3. **Покупка товаров**

- Можно купить только товары из списка магазина.

4. **Аутентификация**

- Все операции (покупка, передача монет, просмотр информации) требуют аутентификации через JWT.
- Без действительного токена доступ к API невозможен.

## Запуск приложения

```bash
docker compose up -d --build
```

## Остановка приложения

```bash
docker compose down
```

## Просмотр логов приложения

```bash
docker logs merch_store-app-1
```

## Очистка базы данных

```bash
docker volume rm merch_store_postgres_data
```

## Данные для авторизации в БД

- PostgreSQL, порт - 5432:
    - username: admin
    - password: password
